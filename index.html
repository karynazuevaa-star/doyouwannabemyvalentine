<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞ üíò</title>

  <style>
    :root:root{
      --bg:#4b0f1a;        /* –±—É—Ä–≥—É–Ω–¥–∏ */
      --bg2:#2b0810;
      --card:#fff;
      --ink:#2b0a10;
      --accent:#ff4d6d;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      height:100vh;
      overflow:hidden;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue";
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(255,255,255,0.08), transparent 60%),
        radial-gradient(900px 500px at 90% 60%, rgba(255,255,255,0.06), transparent 55%),
        linear-gradient(135deg, var(--bg), var(--bg2));
    }

    /* –ø–∞–¥–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏ */
    #hearts{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:0;
    }
    .heart{
      position:absolute;
      top:-10vh;
      font-size:18px;
      opacity:0.9;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,0.25));
      animation: fall linear forwards;
      transform: translateZ(0);
      user-select:none;
    }
    @keyframes fall{
      0%{ transform: translateY(-10vh) rotate(0deg); opacity:0; }
      10%{ opacity:0.9; }
      100%{ transform: translateY(115vh) rotate(360deg); opacity:0; }
    }

    /* —Ü–µ–Ω—Ç—Ä */
    .stage{
      position:relative;
      height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      z-index:1;
      padding:20px;
    }

    /* –∫—Ä—É–∂–µ–≤–Ω–∞—è —Å–∞–ª—Ñ–µ—Ç–∫–∞ */
    .doily-wrap{
      position:relative;
      width:min(520px, 92vw);
      padding:46px;
      border-radius:50px;
      background: transparent;
      filter: drop-shadow(0 18px 45px rgba(0,0,0,0.35));
    }

    /* –≤–Ω–µ—à–Ω–∏–π ‚Äú–∫—Ä—É–∂–µ–≤–Ω–æ–π‚Äù —Å–ª–æ–π */
    .doily-wrap::before{
      content:"";
      position:absolute;
      inset:0;
      border-radius:50px;

      /* –∏–º–∏—Ç–∞—Ü–∏—è –∫—Ä—É–∂–µ–≤–Ω—ã—Ö ‚Äú–∑—É–±—á–∏–∫–æ–≤‚Äù */
      background:
        radial-gradient(circle at 18px 18px, rgba(255,255,255,0.95) 0 12px, transparent 13px) 0 0 / 36px 36px,
        radial-gradient(circle at 18px 18px, rgba(255,255,255,0.95) 0 12px, transparent 13px) 18px 18px / 36px 36px,
        linear-gradient(#fff, #fff);

      /* —á—Ç–æ–±—ã —Ü–µ–Ω—Ç—Ä –±—ã–ª —Ü–µ–ª—å–Ω—ã–º */
      -webkit-mask:
        radial-gradient(closest-side, transparent calc(100% - 30px), #000 calc(100% - 29px)) ,
        linear-gradient(#000,#000);
      -webkit-mask-composite: source-over;
      mask-composite: add;

      opacity:0.98;
    }

    /* –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∫–∞—Ä—Ç–æ—á–∫–∞ */
    .card{
      position:relative;
      border-radius:32px;
      background: linear-gradient(#ffffff, #fff6fb);
      padding:34px 28px 26px;
      text-align:center;
      z-index:2;
      box-shadow: inset 0 0 0 2px rgba(255, 77, 109, 0.12);
    }

    h1{
      margin:0 0 18px;
      font-size: clamp(22px, 4.5vw, 30px);
      line-height:1.15;
    }

    .btnrow{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:10px;
    }

    button{
      font-size:18px;
      padding:12px 22px;
      border:none;
      border-radius:14px;
      cursor:pointer;
      transition: transform .12s ease, filter .12s ease;
      user-select:none;
      touch-action: manipulation;
    }
    button:active{ transform: translateY(1px) scale(0.99); }

    #yes{
      background: var(--accent);
      color:#fff;
      font-weight:700;
      box-shadow: 0 10px 22px rgba(255,77,109,0.25);
    }
    #yes:hover{ filter: brightness(1.03); }

    #no{
      background:#e7e0e6;
      color:#3b1a22;
      font-weight:600;
    }

    #message{
      margin:14px 0 0;
      min-height: 24px;
      font-size:16px;
      color:#8a0a26;
    }

    /* –ü–ò–ö–°–ï–õ–¨–ù–´–ï –•–û–ú–Ø–ß–ö–ò: —Ä–∏—Å—É–µ–º box-shadow ‚Äú–ø–∏–∫—Å–µ–ª—è–º–∏‚Äù */
    .orbit{
      position:absolute;
      inset:-70px;
      pointer-events:none;
      z-index:3;
    }
    .orbiter{
      position:absolute;
      inset:0;
      animation: spin 9s linear infinite;
      transform-origin:center;
    }
    .orbiter.s2{ animation-duration: 12s; animation-direction: reverse; }
    .orbiter.s3{ animation-duration: 10.5s; }

    @keyframes spin{
      to{ transform: rotate(360deg); }
    }

    .hamster{
      --p:4px;                 /* —Ä–∞–∑–º–µ—Ä ‚Äú–ø–∏–∫—Å–µ–ª—è‚Äù */
      width: calc(var(--p) * 10);
      height: calc(var(--p) * 10);
      position:absolute;
      left:50%;
      top:0%;
      transform: translate(-50%, -50%);
      image-rendering: pixelated;
      filter: drop-shadow(0 8px 10px rgba(0,0,0,0.25));
      border-radius: 6px;
      background: transparent;
    }

    /* –ø—Ä–æ—Å—Ç–æ–π –ø–∏–∫—Å–µ–ª—å-–∞—Ä—Ç —Ö–æ–º—è—á–∫–∞ (10x10) */
    .hamster::before{
      content:"";
      position:absolute;
      left:0; top:0;
      width: var(--p);
      height: var(--p);
      background: #c7905b; /* –±–∞–∑–æ–≤—ã–π */
      box-shadow:
        /* —É—à–∏/–∫–æ–Ω—Ç—É—Ä */
        calc(var(--p)*2) calc(var(--p)*0) #c7905b,
        calc(var(--p)*3) calc(var(--p)*0) #c7905b,
        calc(var(--p)*4) calc(var(--p)*0) #c7905b,

        calc(var(--p)*1) calc(var(--p)*1) #c7905b,
        calc(var(--p)*2) calc(var(--p)*1) #f3c7a0,
        calc(var(--p)*3) calc(var(--p)*1) #f3c7a0,
        calc(var(--p)*4) calc(var(--p)*1) #f3c7a0,
        calc(var(--p)*5) calc(var(--p)*1) #c7905b,

        calc(var(--p)*0) calc(var(--p)*2) #c7905b,
        calc(var(--p)*1) calc(var(--p)*2) #f3c7a0,
        calc(var(--p)*2) calc(var(--p)*2) #f3c7a0,
        calc(var(--p)*3) calc(var(--p)*2) #2b0a10, /* –≥–ª–∞–∑ */
        calc(var(--p)*4) calc(var(--p)*2) #f3c7a0,
        calc(var(--p)*5) calc(var(--p)*2) #f3c7a0,
        calc(var(--p)*6) calc(var(--p)*2) #c7905b,

        calc(var(--p)*0) calc(var(--p)*3) #c7905b,
        calc(var(--p)*1) calc(var(--p)*3) #f3c7a0,
        calc(var(--p)*2) calc(var(--p)*3) #f3c7a0,
        calc(var(--p)*3) calc(var(--p)*3) #f3c7a0,
        calc(var(--p)*4) calc(var(--p)*3) #ff7aa2, /* –Ω–æ—Å–∏–∫ */
        calc(var(--p)*5) calc(var(--p)*3) #f3c7a0,
        calc(var(--p)*6) calc(var(--p)*3) #c7905b,

        /* —Ç–µ–ª–æ */
        calc(var(--p)*1) calc(var(--p)*4) #c7905b,
        calc(var(--p)*2) calc(var(--p)*4) #f3c7a0,
        calc(var(--p)*3) calc(var(--p)*4) #f3c7a0,
        calc(var(--p)*4) calc(var(--p)*4) #f3c7a0,
        calc(var(--p)*5) calc(var(--p)*4) #c7905b,

        calc(var(--p)*2) calc(var(--p)*5) #c7905b,
        calc(var(--p)*3) calc(var(--p)*5) #f3c7a0,
        calc(var(--p)*4) calc(var(--p)*5) #c7905b,

        /* –ª–∞–ø–∫–∏ */
        calc(var(--p)*2) calc(var(--p)*6) #2b0a10,
        calc(var(--p)*4) calc(var(--p)*6) #2b0a10;
    }

    /* –Ω–µ–º–Ω–æ–≥–æ ‚Äú—à–∞–≥–∞–µ—Ç‚Äù */
    .hamster{
      animation: bob .55s ease-in-out infinite;
    }
    @keyframes bob{
      0%,100%{ transform: translate(-50%, -50%) translateY(0); }
      50%{ transform: translate(-50%, -50%) translateY(2px); }
    }

    .hamster.small{ --p:3px; opacity:0.95; }
    .hamster.tiny{ --p:2.7px; opacity:0.9; }

    /* —Å–∞–ª—é—Ç canvas */
    #fw{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:10;
      display:none;
    }

    /* —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω –ø–æ—Å–ª–µ –î–∞ */
    .final{
      position:relative;
      text-align:center;
      color:#fff;
      font-weight:800;
      font-size: clamp(34px, 6vw, 64px);
      letter-spacing: 0.5px;
      text-shadow: 0 12px 30px rgba(0,0,0,0.45);
      padding: 24px;
    }
    .final small{
      display:block;
      font-weight:600;
      font-size: clamp(14px, 2.6vw, 18px);
      opacity:0.9;
      margin-top:12px;
    }
  </style>
</head>

<body>
  <div id="hearts" aria-hidden="true"></div>
  <canvas id="fw"></canvas>

  <div class="stage" id="stage">
    <div class="doily-wrap" id="doily">
      <!-- —Ö–æ–º—è—á–∫–∏ –ø–æ –∫—Ä—É–≥—É -->
      <div class="orbit" aria-hidden="true">
        <div class="orbiter s1">
          <div class="hamster"></div>
        </div>
        <div class="orbiter s2">
          <div class="hamster small"></div>
        </div>
        <div class="orbiter s3">
          <div class="hamster tiny"></div>
        </div>
      </div>

      <div class="card" id="card">
        <h1>–ë—É–¥–µ—à—å –ª–∏ —Ç—ã –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π? üíò</h1>

        <div class="btnrow">
          <button id="yes">–î–∞ ‚ù§Ô∏è</button>
          <button id="no">–ù–µ—Ç</button>
        </div>

        <div id="message"></div>
      </div>
    </div>
  </div>

  <script>
    // --- –ü–∞–¥–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏ ---
    const heartsBox = document.getElementById('hearts');
    const heartChars = ["‚ù§","üíó","üíñ","üíò","üíû"];
    function spawnHeart(){
      const h = document.createElement('div');
      h.className = 'heart';
      h.textContent = heartChars[Math.floor(Math.random()*heartChars.length)];
      const left = Math.random()*100;
      const size = 14 + Math.random()*18;
      const dur = 6 + Math.random()*7;
      const drift = (Math.random()*2 - 1) * 12;

      h.style.left = left + "vw";
      h.style.fontSize = size + "px";
      h.style.animationDuration = dur + "s";
      h.style.transform = `translateX(${drift}vw)`;
      heartsBox.appendChild(h);

      setTimeout(()=>h.remove(), (dur+1)*1000);
    }
    setInterval(spawnHeart, 220);
    for(let i=0;i<18;i++) setTimeout(spawnHeart, i*120);

    // --- –£–±–µ–≥–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ "–ù–µ—Ç" ---
    const noBtn = document.getElementById("no");
    const message = document.getElementById("message");

    // —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ —Ä–µ–∞–ª—å–Ω–æ —É–±–µ–≥–∞–ª–∞ –ø–æ –≤—Å–µ–º—É —ç–∫—Ä–∞–Ω—É
    noBtn.style.position = "fixed";
    noBtn.addEventListener("mouseover", () => {
      const pad = 16;
      const w = noBtn.offsetWidth;
      const h = noBtn.offsetHeight;
      const x = pad + Math.random() * (window.innerWidth - w - pad*2);
      const y = pad + Math.random() * (window.innerHeight - h - pad*2);
      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
    });

    noBtn.addEventListener("click", () => {
      message.textContent = "–¥–æ—Ä–æ–≥–æ–π –≤–∏—Ç–∞–ª–∏–∫, —Ç—ã –∑–∞–±—ã–ª —Å –∫–µ–º –∂–∏–≤–µ—à—å. —Ç—É—Ç –Ω–µ—Ç –≤—ã–±–æ—Ä–∞. –ø–æ–¥—É–º–∞–π –µ—â–µ —Ä–∞–∑ :)";
    });

    // --- "–î–∞" -> —Ñ–∏–Ω–∞–ª + —Å–∞–ª—é—Ç ---
    const yesBtn = document.getElementById("yes");
    const stage = document.getElementById("stage");
    const fw = document.getElementById("fw");

    // simple fireworks
    const ctx = fw.getContext("2d");
    let W=0,H=0;
    function resize(){
      W = fw.width = window.innerWidth * devicePixelRatio;
      H = fw.height = window.innerHeight * devicePixelRatio;
      ctx.scale(devicePixelRatio, devicePixelRatio);
    }
    window.addEventListener("resize", () => location.reload()); // –ø—Ä–æ—â–µ: –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ canvas scale

    let particles = [];
    function burst(x,y){
      const count = 70 + Math.floor(Math.random()*40);
      for(let i=0;i<count;i++){
        const a = Math.random()*Math.PI*2;
        const s = 2 + Math.random()*5;
        particles.push({
          x,y,
          vx: Math.cos(a)*s,
          vy: Math.sin(a)*s,
          life: 70 + Math.random()*30,
          r: 2 + Math.random()*2.5,
          hue: Math.random()*360
        });
      }
    }

    function tick(){
      ctx.clearRect(0,0,window.innerWidth,window.innerHeight);
      // –ª—ë–≥–∫–∞—è ‚Äú–¥—ã–º–∫–∞‚Äù
      ctx.fillStyle = "rgba(0,0,0,0.15)";
      ctx.fillRect(0,0,window.innerWidth,window.innerHeight);

      particles = particles.filter(p => p.life>0);
      for(const p of particles){
        p.life -= 1;
        p.vy += 0.06;      // –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è
        p.vx *= 0.99;
        p.vy *= 0.99;
        p.x += p.vx;
        p.y += p.vy;

        ctx.beginPath();
        ctx.fillStyle = `hsla(${p.hue}, 95%, 65%, ${Math.max(p.life/100,0)})`;
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fill();
      }
      if (fw.style.display !== "none") requestAnimationFrame(tick);
    }

    yesBtn.addEventListener("click", () => {
      // —É–±–∏—Ä–∞–µ–º –∫–Ω–æ–ø–∫—É "–Ω–µ—Ç", —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –∫–∞—Ä—Ç–æ—á–∫—É
      document.getElementById("doily").style.display = "none";

      // –≤–∫–ª—é—á–∞–µ–º —Å–∞–ª—é—Ç
      fw.style.display = "block";
      // –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (–±–µ–∑ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–π)
      fw.width = window.innerWidth;
      fw.height = window.innerHeight;

      // —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
      stage.innerHTML = `
        <div class="final">
          —è –∑–Ω–∞–ª–∞!!! üéÜ
          <small>–° –î–Ω—ë–º –≤—Å–µ—Ö –≤–ª—é–±–ª—ë–Ω–Ω—ã—Ö üíò</small>
        </div>
      `;

      // –¥–µ–ª–∞–µ–º —Å–µ—Ä–∏—é –∑–∞–ª–ø–æ–≤
      const start = performance.now();
      (function loop(t){
        if (t - start < 6500){
          burst(
            80 + Math.random()*(window.innerWidth-160),
            80 + Math.random()*(window.innerHeight*0.45)
          );
          setTimeout(()=>requestAnimationFrame(loop), 120);
        }
      })(start);

      requestAnimationFrame(tick);
    });
  </script>
</body>
</html>
