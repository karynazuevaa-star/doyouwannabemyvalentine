<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<title>–í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞ üíò</title>

<style>

:root{
--bg:#3a0b16;
--bg2:#19050b;
--accent:#ff4d6d;
}

*{box-sizing:border-box;}

body{
margin:0;
height:100vh;
overflow:hidden;
font-family:system-ui;
background:
radial-gradient(1100px 600px at 20% 15%, rgba(255,255,255,0.06), transparent 60%),
linear-gradient(135deg,var(--bg),var(--bg2));
}

/* —Å–µ—Ä–¥–µ—á–∫–∏ */

#hearts{
position:fixed;
inset:0;
pointer-events:none;
}

.heart{
position:absolute;
top:-10vh;
animation:fall linear forwards;
}

@keyframes fall{
to{
transform:translateY(120vh) rotate(360deg);
opacity:0;
}
}

/* –∫–∞—Ä—Ç–æ—á–∫–∞ */

.stage{
height:100vh;
display:flex;
align-items:center;
justify-content:center;
}

.card{
width:min(800px,92vw);
background:white;
border-radius:32px;
padding:40px;
text-align:center;
position:relative;
overflow:hidden;
}

h1{
margin:0 0 18px;
font-size:34px;
}

.btnrow{
display:flex;
gap:14px;
justify-content:center;
}

button{
font-size:18px;
padding:14px 26px;
border:none;
border-radius:14px;
cursor:pointer;
}

#yes{
background:var(--accent);
color:white;
font-weight:800;
}

/* ‚ùó –ö–ù–û–ü–ö–ê –ù–ï–¢ */

#no{
background:#eee;
font-weight:800;
position:absolute;
}

/* —Ö–æ–º—è—á–∫–∏ */

.ham{
position:absolute;
width:85px;
bottom:-25px;
animation:peek 4s infinite;
}

@keyframes peek{
0%,35%{transform:translateY(40px);opacity:0;}
45%,70%{transform:translateY(0);opacity:1;}
100%{transform:translateY(40px);opacity:0;}
}

/* —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω */

.final-screen{
height:100vh;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
}

.final-title{
color:white;
font-size:64px;
font-weight:900;
text-align:center;
margin-bottom:20px;
}

.final-photo{
position:absolute;
bottom:0;
left:50%;
transform:translateX(-50%) scale(0.2);
transform-origin:bottom center;

width:min(520px,85vw); /* –ë–û–õ–¨–®–ï */

animation:grow 0.8s ease-out forwards;
}

@keyframes grow{
to{
transform:translateX(-50%) scale(1);
}
}

/* —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫ */

#fw{
position:fixed;
inset:0;
pointer-events:none;
}

</style>
</head>

<body>

<div id="hearts"></div>
<canvas id="fw"></canvas>

<div class="stage">
<div class="card" id="card">

<img class="ham" src="./hamster.png" style="left:10%">
<img class="ham" src="./hamster.png" style="right:10%; animation-delay:1s">

<h1>–ë—É–¥–µ—à—å –ª–∏ —Ç—ã –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π? üíò</h1>

<div class="btnrow">
<button id="yes">–î–∞ ‚ù§Ô∏è</button>
<button id="no">–ù–µ—Ç</button>
</div>

</div>
</div>

<script>

/* —Å–µ—Ä–¥–µ—á–∫–∏ */

const hearts=document.getElementById('hearts');

setInterval(()=>{
const h=document.createElement('div');
h.className='heart';
h.textContent='üíó';
h.style.left=Math.random()*100+'vw';
h.style.fontSize=(14+Math.random()*20)+'px';
h.style.animationDuration=(5+Math.random()*5)+'s';
hearts.appendChild(h);

setTimeout(()=>h.remove(),10000);
},200);

/* ---------- –ö–ù–û–ü–ö–ê –ù–ï–¢ –í–ù–£–¢–†–ò –ö–ê–†–¢–û–ß–ö–ò ---------- */

const no=document.getElementById('no');
const card=document.getElementById('card');

let pos={x:0,y:0};
let vel={x:4,y:3};

function placeInitial(){
const r=card.getBoundingClientRect();

pos.x=r.width/2;
pos.y=r.height-90;

no.style.left=pos.x+'px';
no.style.top=pos.y+'px';
}

placeInitial();

function moveNo(){

const r=card.getBoundingClientRect();

pos.x+=vel.x;
pos.y+=vel.y;

/* –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ */

if(pos.x<10 || pos.x>r.width-no.offsetWidth-10)
vel.x*=-1;

if(pos.y<10 || pos.y>r.height-no.offsetHeight-10)
vel.y*=-1;

no.style.left=pos.x+'px';
no.style.top=pos.y+'px';
}

setInterval(moveNo,16);

/* —É—Å–∫–æ—Ä–µ–Ω–∏–µ –æ—Ç –º—ã—à–∫–∏ */

card.addEventListener('mousemove',(e)=>{

const rect=no.getBoundingClientRect();
const cx=rect.left+rect.width/2;
const cy=rect.top+rect.height/2;

const dx=cx-e.clientX;
const dy=cy-e.clientY;

const dist=Math.hypot(dx,dy);

if(dist<140){

vel.x+=dx*0.02;
vel.y+=dy*0.02;

}
});

/* ---------- –§–ï–ô–ï–†–í–ï–†–ö ---------- */

const yes=document.getElementById('yes');
const fw=document.getElementById('fw');
const ctx=fw.getContext('2d');

fw.width=innerWidth;
fw.height=innerHeight;

let particles=[];

function burst(x,y){
for(let i=0;i<90;i++){
const a=Math.random()*Math.PI*2;
const s=2+Math.random()*6;

particles.push({
x,y,
vx:Math.cos(a)*s,
vy:Math.sin(a)*s,
life:80
});
}
}

function animateFW(){

ctx.clearRect(0,0,fw.width,fw.height);

particles=particles.filter(p=>p.life>0);

for(const p of particles){

p.life--;
p.vy+=0.05;

p.x+=p.vx;
p.y+=p.vy;

ctx.beginPath();
ctx.arc(p.x,p.y,3,0,Math.PI*2);
ctx.fillStyle=`hsl(${Math.random()*360},100%,65%)`;
ctx.fill();
}

requestAnimationFrame(animateFW);
}

animateFW();

/* ---------- –ö–ù–û–ü–ö–ê –î–ê ---------- */

yes.onclick=()=>{

document.body.innerHTML=`
<canvas id="fw"></canvas>

<div class="final-screen">
<div class="final-title">
—è –∑–Ω–∞–ª–∞!!<br>
—è —Ç–æ–∂–µ —Ç–µ–±—è –ª—é–±–ª—é!!
</div>

<img class="final-photo" src="./IMG_9008.PNG">
</div>
`;

const canvas=document.getElementById('fw');
const c=canvas.getContext('2d');

canvas.width=innerWidth;
canvas.height=innerHeight;

setInterval(()=>{
burst(
Math.random()*innerWidth,
Math.random()*innerHeight*0.6
);
},400);

animateFW();

};

</script>

</body>
</html>
